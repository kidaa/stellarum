<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>CATALOGUS STELLARUM</title>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.js"></script>
    <script src="js/purl.js"></script>
    <script src="js/stars.js"></script>
    <script src="js/starmap.js"></script>

    <link type="text/css" rel="stylesheet" href="css/starmap-theme/jquery-ui-1.10.3.custom.css" />
    <link type="text/css" rel="stylesheet" href="css/starmap.css" />
  </head>

  <body>
    <div id="header">
    <span id="title">CATALOGVS STELLARVM</span>
    <span id="links">
      <a href="about.html">About</a>
    <span>
    </div>

    <div id="starmap">
    </div>

    <div id="text" class="start">
      <input id="starname"
             type="text"
             class="start"
             value="SEARCH" />
      
      <div id="stardesignation"></div>
      <div id="coords"></div>
      <div id="description">
        <p>Welcome to the CATALOGUS STELLARUM, an index of local concentrations of BRIGHT MATTER.</p>
        <p>Search for stars by typing above, select them from the celestial sphere, or press SPACE to view the Catalogus in alphabetical order.</p>

      </div>
    </div>

    <div id="about">
      <p>The CATALOGUS was originally posted on my Twitter
      account <a href="http://twitter.com/FSVO">FSVO</a> in 2012.
      Follow it for more parascientific nonsense.</p>

      <p>This web visualisation is in beta.  It hasn't been well-tested
        and will need a modern browser.  Any advice on problems can be
        emailed to <a href="mailto:mike.lynch@iinet.net.au">this address</a></p>

      <p>The main sources for star names and data were
      Wikipedia, <i>Star Names: Their Lore and Meaning</i> by Richard
      Hinckley Allen,
      and <a href="http://stars.astro.illinois.edu/">Prof. Jim Kaler's
      Star of the Week website.</a></p>
      
      <p>Built with Michael Bostock's
      incredible <a href="http://d3js.org">D3.js</a> visualisation library
      and the <a href="http://jqueryui.com/">jQuery UI</a> toolkit.</p>

      <p>Star colour values from Mitchell
      Charity's <a href="http://www.vendian.org/mncharity/dir3/starcolor/">star
      colour reference page.</a>

    </div>
                              

    <script lang="javascript">

      var starNames = [];

      for (var i = 0; i < stars.length; i++ ) {
          starNames.push({ label: stars[i].name, value: stars[i].id });
      }

      function star_autocomplete(event) {
          $(this).val("");
          $(this).off("focus", star_autocomplete);
          $(this).autocomplete({
              delay: 0,
              minLength: 2,
              source: starNames,
              focus: function(e, ui) {
                  $('#starname').val(ui.item.label);
                  return false;
              },
              select: function(e, ui) {
                  $('#starname').val(ui.item.label);
                  var id = ui.item.value;
                  var star = stars[id];
                  if( star ) {
                     select_star(star, SPIN_TIME);
                  }
                  return false;
              },
          });

      }

      var url = $.url();
      var star = url.param('star');
      render_map("div#starmap", 800, 800, star);

      $("input#starname").on("focus", star_autocomplete);

      $(document).on("keypress", next_star);


    </script>


  </body>
</html>
